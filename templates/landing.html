{% extends "base.html" %}

{% block title %}Welcome{% endblock %}

{% block navbar %}
<!-- Navigation bar is intentionally hidden on the landing page -->
{% endblock %}

{% block footer %}
<!-- Footer is intentionally hidden on the landing page -->
{% endblock %}

{% block content %}
    <div class="landing-container">
        <div class="logo logo-large">
            <img src="{{ url_for('static', filename='images/logo_en.webp') }}" alt="Logo">
        </div>

        <div class="content-box">
            <h1>Welcome to Nanatoridori</h1>
            <p class="welcome-text">
                Join this exciting card game where strategy and luck go hand in hand. Create a game room to play with friends or join an existing session.
            </p>
            
            <div class="button-container">
                <a href="{{ url_for('login') }}" class="btn btn-primary">Login</a>
                <a href="{{ url_for('register') }}" class="btn btn-secondary">Sign Up</a>
            </div>

            <div class="game-info-toggle">
                <button id="showRules" class="btn btn-outline">Show Game Rules</button>
            </div>
            
            <div id="gameRules" class="game-rules" style="display: none;">
                <h2>How to Play</h2>
                <p>From a deck of 63 cards (9 copies each of 1-7), players receive a hand they <strong>cannot rearrange</strong>.</p>
                <ul>
                    <li>The starting player plays a card or adjacent set of cards with the same value.</li>
                    <li>Subsequent players must either:</li>
                    <ul>
                        <li>Play the <strong>same number of cards</strong> with a <strong>higher value</strong></li>
                        <li>Or play a <strong>larger set of cards</strong></li>
                    </ul>
                    <li>Example: 2 &lt; 5 &lt; 3,3 &lt; 6,6 &lt; 2,2,2 &lt; 1,1,1,1</li>
                    <li>When you overplay someone, you may <strong>take the beaten cards</strong> into your hand (wherever you choose) or discard them.</li>
                    <li>If you can't or don't want to play, <strong>pass</strong> and draw a card. Add it or discard it.</li>
                    <li>If everyone but one player passes, clear the table. The last player leads next.</li>
                    <li>The last player with cards loses one of their two lives. Losing both ends the game.</li>
                    <li><strong>All remaining players win.</strong></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="copyright-subtle">
        &copy; 2023 Nanatoridori Game. All rights reserved.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const showRulesButton = document.getElementById('showRules');
            const gameRules = document.getElementById('gameRules');
            
            showRulesButton.addEventListener('click', function() {
                if (gameRules.style.display === 'none') {
                    // Show rules with animation
                    gameRules.style.display = 'block';
                    showRulesButton.textContent = 'Hide Game Rules';
                    showRulesButton.classList.remove('btn-outline');
                    showRulesButton.classList.add('btn-secondary');
                } else {
                    // Hide rules
                    gameRules.style.display = 'none';
                    showRulesButton.textContent = 'Show Game Rules';
                    showRulesButton.classList.remove('btn-secondary');
                    showRulesButton.classList.add('btn-outline');
                }
            });
        });
    </script>
{% endblock %}